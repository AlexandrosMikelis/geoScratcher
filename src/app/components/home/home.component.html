<div class="scratch-map">
    <svg
      xmlns:mapsvg="http://mapsvg.com"
      xmlns:dc="http://purl.org/dc/elements/1.1/"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns="http://www.w3.org/2000/svg"
      mapsvg:geoViewBox="-169.110266 83.600842 190.486279 -58.508473"
      [attr.width]="1211.60724"
      [attr.height]="799.155612"
      (mouseenter)="onMouseEnter($event)"
      (mouseleave)="onMouseLeave($event)"
      (click)="onCountryClick($event)"
      [attr.transform]="'translate(' + xOffset + ', ' + yOffset + ') scale(' + scale + ')'"
    >
      <g *ngFor="let country of countries">
        <path
          [attr.d]="country.d"
          [attr.title]="country.title"
          [attr.id]="country.id"
          class="country"
          [ngClass]="{ 'visited': country.visited, 'lived': country.lived, 'future': country.future }"
          (dblclick)="toggleContryStatusModal(country)"
        ></path>
        <!-- <text
          [attr.x]="calculateTextPositionX(country)"
          [attr.y]="calculateTextPositionY(country)"
          [attr.fill]="country.visited ? '#fff' : '#000'"
          [attr.font-size]="calculateFontSize(country)"
          text-anchor="middle"
          alignment-baseline="middle"
          (mouseenter)="onCountryMouseEnter(country.id)"
          (mouseleave)="onCountryMouseLeave(country.id)"
          (dblclick)="toggleCountryVisited(country)"
          style="cursor: pointer;"
        >
          {{ country.title }}
        </text> -->
      </g>
    </svg>
  </div>

  <app-country-status-modal
  *ngIf="showModal"
  [country]="selectedCountry"
  (statusSelected)="onStatusSelected($event)"
  (closeModal)="closeModal()"
></app-country-status-modal>